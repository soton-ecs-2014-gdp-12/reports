%% ----------------------------------------------------------------
%% Overlay.tex
%% ---------------------------------------------------------------- 
\chapter{Overlay} \label{Chapter:Overlay}
The overlay was built up in stages:
\begin{enumerate}
\item Getting an overlay to appear at a set time
\item Adding in question types
\item Allowing custom question sets to be used
\item Returning the answers to a server
\end{enumerate}
\section{Question Sets} 
\label{Section:Question sets}
One of the main issues to address early on was how to represent the quiz and poll questions. The QTI standards were investigated but these were found to be complicated and incomplete. It was decided to write our own schema and use JavaScript files to store the information we needed. 

An early decision was to define the difference between a poll and a quiz question. A poll is a type of quiz question that does not have a correct answer.

Initially basic question types (single choice, multiple choice and scale questions) were focused on. A variety of visualisations was implemented including check boxes, radio buttons and sliding scales. Validation was needed to ensure that the specified minimum and maximum limits were followed. This allowed single choice questions to be represented as multiple choice questions with a minimum and maximum selection of 1.
\section{Front End} 
\label{Section:Front end}
The appearance of the overlay depends on the question type to be shown. To begin with these were hardcoded but eventually a JavaScript file could be read in where all the necessary metadata was specified.
\section{Back End} 
\label{Section:Back end}
\subsection{Web Workers}
\label{Subsection:WebWorkers}
Web workers give a good way of running background scripts that are compuationally intensive. They are a way of multithreading - allowing multiple scripts to run simultaneously. This is done by using message passing. 

In our case, this meant passing the answer submitted by the user to the worker which would then process the information and pick the appropriate action.