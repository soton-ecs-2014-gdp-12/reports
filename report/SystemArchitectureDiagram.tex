\begin{tikzpicture}[
  font=\sffamily,
  every matrix/.style={ampersand replacement=\&,column sep=2cm,row sep=2cm},
  source/.style={draw,thick,rounded corners,fill=yellow!20,inner sep=.3cm},
  vg-plugin/.style={draw,thick,rounded corners,fill=yellow!20,inner sep=.3cm},
  videogular/.style={draw,thick,circle,fill=blue!20},
  process/.style={draw,thick,circle,fill=blue!20},
  sink/.style={source,fill=green!20},
  datastore/.style={draw,very thick,shape=datastore,inner sep=.3cm},
  server/.style={source,fill=green!20},
  dots/.style={gray,scale=2},
  to/.style={->,>=stealth',shorten >=1pt,semithick,font=\sffamily\footnotesize},
  between/.style={<->,>=stealth',shorten >=1pt,semithick,font=\sffamily\footnotesize},
  every node/.style={align=center}]

  % Position the nodes using a matrix layout
  \matrix{
    \node[vg-plugin] (cuepoints) {cuepoints};
      \&
      \& \node[vg-plugin] (questions) {questions};
      \& \node[server] (poll-server) {poll server}; \\

    \& \node[videogular] (videogular) {videogular}; \\

    \node[vg-plugin] (heatmap) {heatmap};
      \&
      \& \node[vg-plugin] (analytics) {analytics};
      \& \node[server] (analytics-server) {analytics server}; \\
  };

  \draw[between] (questions) --
      node[midway,above] {user responses}
      node[midway,below] {results} (poll-server);
  \draw[to] (questions) --
      node[midway,right] {user interactions}
      (analytics);
  \draw[to] (questions) --
      node[midway,above] {question times}
      (cuepoints);
  \draw[between] (analytics) --
      node[midway,above] {data}
      node[midway,below] {acks} (analytics-server);
  \draw[to] (analytics-server) to[bend left=15] node[midway,above] {events}
      node[midway,below] {level 1} (heatmap);
  \draw[between] (videogular) -- (cuepoints);
  \draw[between] (videogular) -- (analytics);
  \draw[between] (videogular) -- (questions);
  \draw[between] (videogular) -- (heatmap);
\end{tikzpicture}
